---
import { Post } from "../../lib/interfaces.ts";
import { getPostByPageId } from "../../lib/notion/client";
import { getPostLink } from "../../lib/blog-helpers.ts";
// import arrow from '../../images/icon-arrow-link.svg'

export interface Props {
	pageId: string;
}

const { pageId } = Astro.props;

let post: Post = null;
if (pageId) {
	post = await getPostByPageId(pageId);
}
---

{
  post ? (
      <a href={getPostLink(post.Slug)} class="inline-flex items-center justify-center p-2 text-base border-2 font-medium rounded-lg border-gray-50 hover:border-gray-100 dark:border-gray-800 dark:hover:border-gray-700">
          <>
              <span class="mx-2">
                  {post.Icon && post.Icon.Type === "emoji" ? (
                      post.Icon.Emoji
                  ) : post.Icon && post.Icon.Type === "external" ? (
                      <img src={post.Icon.Url} class="w-5 h-5 align-sub flex-shrink-0 relative" />
                  ) : (
                      "ðŸ“„"
                  )}
              </span>
              <span class="w-full">{post.Title}</span>
              <svg class="w-4 h-4 ms-2 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
  </svg>
          </>
      </a>
  ) : null
}
