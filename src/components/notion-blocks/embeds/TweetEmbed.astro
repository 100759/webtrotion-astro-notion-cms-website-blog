---
import Tweet from "astro-tweet";

export interface Props {
  url: URL
}

const { url } = Astro.props

const postURL =
  url.hostname === 'x.com' || url.hostname === 'www.x.com'
    ? new URL(url.pathname, 'https://twitter.com')
    : url
const tweetID = postURL.pathname.split("/")[3];
---
<div class="w-full max-w-[640px] mx-auto">
  <Tweet id={tweetID} />
</div>
<script>
const elements = document.querySelectorAll('.astro-tweet-theme');
elements.forEach((element) => {
    const htmlElement = element as HTMLElement;
    htmlElement.style.setProperty('--tweet-container-margin','0')
    htmlElement.style.setProperty('--tweet-body-font-size','1rem')
    // Remove other properties as needed
});

</script>
